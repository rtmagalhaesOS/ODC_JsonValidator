{
  "$schema": "http://json-schema.org/draft-04/schema#",
  "$id": "https://tx.group/billingdoc.schema.json",
  "title": "BillingDoc",
  "type": "object",
  "additionalProperties": false,
  "properties": {
    "general": {
      "type": "object",
      "additionalProperties": false,
      "description": "general information on document",
      "required": [
        "docSource",
        "companyCode",
        "docNum",
        "docDate",
        "docType"
      ],
      "properties": {
        "docEmailResponse": {
          "type": "string",
          "format": "email",
          "description": "e-mail address for error response (admin mail)"
        },
        "docSource": {
          "type": "string",
          "description": "Name of source business system (ex. Adsuite, goTom)"
        },
        "companyCode": {
          "type": "string",
          "description": "company code of sender (ex. C123)"
        },
        "docNum": {
          "type": "string",
          "description": "unique id of document (ex. InvoiceNum), max 12 char"
        },
        "docDate": {
          "type": "string",
          "format": "date",
          "description": "date of document"
        },
        "bookingDate": {
          "type": "string",
          "format": "date",
          "description": "booking date for GL postings, same as docDate if empty"
        },
        "docLanguage": {
          "type": "string",
          "enum": [
            "DE",
            "FR",
            "IT",
            "EN"
          ],
          "default": "DE",
          "description": "language for document creation (DE,FR,IT,EN)"
        },
        "docCurrency": {
          "type": "string",
          "default": "CHF",
          "description": "currency for document"
        },
        "docPricingMode": {
          "type": "string",
          "enum": [
            "net",
            "gross"
          ],
          "default": "net",
          "description": "amount in invoice items are net (excl VAT) or gross (incl VAT)"
        },
        "docAssetMode": {
          "type": "boolean",
          "default": false,
          "description": "document is a sales/asset transaction (yes/NO)"
        },
        "docPayoutMode": {
          "type": "boolean",
          "default": false,
          "description": "document is a asset payout transaction (yes/NO)"
        },
        "docSalesAssetType": {
          "type": "string",
          "enum": [
            "standard",
            "onBehalf"
          ],
          "default": "standard",
          "description": "type of sales/asset use case"
        },
        "docAccounting": {
          "type": "boolean",
          "default": true,
          "description": "document creates accounting and is posted to workday (YES/no)"
        },
        "docRefNum": {
          "type": "string",
          "description": "links to other document in Billing Engine (for internal use only)"
        },
        "docRefDate": {
          "type": "string",
          "format": "date",
          "description": "docDate of linked document (for internal use only)"
        },
        "docRefType": {
          "type": "string",
          "description": "(se_docType) docType of referenced document (for internal use only)"
        },
        "docType": {
          "type": "string",
          "enum": [
            "invoice",
            "creditnote",
            "onlineorder",
            "paynote",
            "cancellation",
            "transfer",
            "accruals"
          ],
          "description": "type of document (transfer for internal use only)"
        },
        "docPeriod": {
          "type": "object",
          "additionalProperties": false,
          "description": "document level information for revenue splitting (optional)",
          "properties": {
            "periodFrom": {
              "type": "string",
              "format": "date",
              "description": "revenue period starting date (optional, document level default)"
            },
            "periodTo": {
              "type": "string",
              "format": "date",
              "description": "revenue period end date (optional, document level default)"
            },
            "deferralMode": {
              "type": "string",
              "enum": [
                "standard",
                "day",
                "month",
                "none"
              ],
              "description": "deferral calculation mode (optional, document level default)"
            },
            "deferralSalesDoc": {
              "type": "boolean",
              "default": true,
              "description": "shall deferrals be posted for salesDoc in sales/asset mode ?"
            }
          }
        },
        "docInvoice": {
          "type": "object",
          "additionalProperties": false,
          "description": "additional information for invoices",
          "properties": {
            "invoiceType": {
              "type": "string",
              "enum": [
                "standard",
                "barter",
                "inter",
                "intra",
                "associated",
                "offer",
                "cash",
                "prepayment"
              ],
              "default": "standard",
              "description": "type of invoice"
            },
            "contractURL": {
              "type": "string",
              "description": "DMS URL for customer contract (needed for collection)"
            },
            "bankTransID": {
              "type": "string",
              "description": "bank transaction ID for invoiceType = prepayment"
            },
            "eBillUserId": {
              "type": "string",
              "description": "SIX eBill subscription UserID (for migration use cases)"
            }
          }
        },
        "docCreditNote": {
          "type": "object",
          "additionalProperties": false,
          "description": "additional information for credit notes",
          "properties": {
            "creditNoteType": {
              "type": "string",
              "enum": [
                "standard",
                "barter",
                "inter",
                "intra",
                "associated",
                "cash"
              ],
              "default": "standard",
              "description": "type of credit note"
            },
            "creditDocNum": {
              "type": "string",
              "description": "reference to invoice number for credit note"
            }
          }
        },
        "docPayNote": {
          "type": "object",
          "additionalProperties": false,
          "description": "additional information for paynote",
          "properties": {
            "payNoteType": {
              "type": "string",
              "enum": [
                "standard",
                "barter",
                "inter",
                "intra",
                "associated"
              ],
              "default": "standard",
              "description": "type of paynote"
            },
            "payNoteDocNum": {
              "type": "string",
              "description": "reference to original paynote"
            },
            "payMode": {
              "type": "string",
              "enum": [
                "payNow",
                "payDelay",
                "payDate",
                "payInvoice",
                "payManual",
                "payAsset"
              ],
              "default": "payNow",
              "description": "payout mode for paynote"
            },
            "payInDays": {
              "type": "integer",
              "description": "payout in x days"
            },
            "payDate": {
              "type": "string",
              "format": "date",
              "description": "payout at indicated date"
            },
            "payInvoiceNum": {
              "type": "string",
              "description": "invoice number to be paid to trigger payout"
            },
            "payAssetOrderId": {
              "type": "string",
              "description": "orderId for asset invoice reconciliation"
            },
            "contractURL": {
              "type": "string",
              "description": "DMS URL for supplier contract"
            },
            "recipientAddress": {
              "type": "object",
              "additionalProperties": false,
              "required": [
                "name"
              ],
              "properties": {
                "name": {
                  "type": "string",
                  "description": "name of company or person"
                },
                "attentionOf": {
                  "type": "string",
                  "description": "name of recipient person"
                },
                "line1": {
                  "type": "string",
                  "description": "adress line #1"
                },
                "line2": {
                  "type": "string",
                  "description": "adress line #2, if any"
                },
                "countryCode": {
                  "type": "string",
                  "default": "CH",
                  "description": "country code (CH,LI,DE,FR,IT)"
                },
                "zipCode": {
                  "type": "string",
                  "description": "zipcode for city"
                },
                "city": {
                  "type": "string",
                  "description": "name of city"
                },
                "mailAdr": {
                  "type": "string",
                  "description": "mail address for contact"
                },
                "phoneNum": {
                  "type": "string",
                  "description": "phone number for contact"
                }
              }
            },
            "recipientIBAN": {
              "type": "string",
              "description": "IBAN of paynote recipient (for IBAN payment)"
            },
            "recipientBank": {
              "type": "string",
              "description": "bank of paynote recipient (optional information)"
            },
            "recipientBIC": {
              "type": "string",
              "description": "BIC Code of recipient bank for BIC/account payment)"
            },
            "recipientAccount": {
              "type": "string",
              "description": "bank account information in combination with BIC"
            },
            "recipientESR": {
              "type": "string",
              "description": "ESR number (format 01-xxxxxx-y) or valid Swiss QR-IBAN"
            },
            "recipientReference": {
              "type": "string",
              "description": "Reference for payment to recipient (optional free text for IBAN+BIC/Account payment, mandatory valid 27 digit reference for ESR/QR-IBAN payment)"
            }
          }
        },
        "docOnlineOrder": {
          "type": "object",
          "additionalProperties": false,
          "required": [
            "merchantID",
            "acquirerName",
            "orderID",
            "transID",
            "transDate",
            "countryOfPayer"
          ],
          "properties": {
            "merchantID": {
              "type": "string",
              "description": "merchantID used with payment provider for transaction authorization"
            },
            "acquirerName": {
              "type": "string",
              "description": "payment method (AMX,DIN,ECA,VIS,APL,PAY,MAU,PAP,PFC,PEF,ESY,TWI,XXX ...)"
            },
            "orderID": {
              "type": "string",
              "description": "order ID of eCommerce system"
            },
            "transID": {
              "type": "string",
              "description": "transaction id of order for reconciliation"
            },
            "transDate": {
              "type": "string",
              "format": "date-time",
              "description": "order date+time of transaction"
            },
            "countryOfPayer": {
              "type": "string",
              "pattern": "\\S{1,}",
              "description": "country of debtor (IP/CC)"
            }
          }
        },
        "docCancellation": {
          "type": "object",
          "additionalProperties": false,
          "required": [
            "cancelDocNum"
          ],
          "description": "additional information for cancellation",
          "properties": {
            "cancellationType": {
              "type": "string",
              "enum": [
                "wrongAddress",
                "wrongInvoice",
                "doubleInvoice",
                "unknown"
              ],
              "default": "unknown",
              "description": "type of cancellation"
            },
            "cancelDocNum": {
              "type": "string",
              "description": "reference to document number for cancellation"
            },
            "cancellationReason": {
              "type": "string",
              "description": "reason of cancellation"
            }
          }
        },
        "docOnAccount": {
          "type": "object",
          "additionalProperties": false,
          "description": "additional information for onAccount documents",
          "properties": {
            "onAccountType": {
              "type": "string",
              "enum": [
                "no",
                "startDoc",
                "salesDoc",
                "finalDoc",
                "voucherSale",
                "voucherConsume",
                "voucherClose",
                "jetonSale",
                "jetonBook"
              ],
              "default": "no"
            },
            "onAccountReference": {
              "type": "string",
              "description": "case reference for onAccount case"
            }
          }
        },
        "docBarter": {
          "type": "object",
          "additionalProperties": false,
          "required": [
            "barterContractID"
          ],
          "description": "additional information for subType = barter",
          "properties": {
            "barterContractID": {
              "type": "string",
              "description": "reference to barter contract (ex. GG-1234)"
            }
          }
        },
        "docInter": {
          "type": "object",
          "additionalProperties": false,
          "required": [
            "icAffiliate"
          ],
          "description": "additional information for subType = inter",
          "properties": {
            "icAffiliate": {
              "type": "string",
              "description": "Intercompany affiliate"
            },
            "interMode": {
              "type": "string",
              "enum": [
                "none",
                "integrated",
                "NIC",
                "assoINT",
                "assoEXT",
                "intra"
              ],
              "default": "none",
              "description": "intercompany mode (assigned by Billing Engine)"
            },
            "inhouseBanking": {
              "type": "boolean",
              "default": false,
              "description": "Inhouse banking transaction (assigned by Billing Engine)"
            },
            "vatGroup": {
              "type": "boolean",
              "default": false,
              "description": "both parties in TX VAT group (assigned by Billing Engine)"
            },
            "assetDocType": {
              "type": "string",
              "enum": [
                "none",
                "sales",
                "customer",
                "push",
                "asset"
              ],
              "description": "sales/asset document type (assigned by Billing Engine)"
            }
          }
        }
      }
    },
    "process": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "create": {
          "type": "boolean",
          "default": true,
          "description": "create pdf version of document (YES/no)"
        },
        "archive": {
          "type": "boolean",
          "default": false,
          "description": "create archive version of document (YES/no)"
        },
        "delivery": {
          "type": "string",
          "enum": [
            "standard",
            "no",
            "reminderOnly"
          ],
          "default": "standard",
          "description": "delivery mode for document"
        },
        "test": {
          "type": "boolean",
          "default": false,
          "description": "validation of document only (without processing)"
        }
      }
    },
    "addresses": {
      "type": "object",
      "additionalProperties": false,
      "required": [
        "recipient"
      ],
      "properties": {
        "sender": {
          "type": "object",
          "additionalProperties": false,
          "description": "sender of the document",
          "properties": {
            "address": {
              "type": "object",
              "additionalProperties": false,
              "required": [
                "name"
              ],
              "properties": {
                "name": {
                  "type": "string",
                  "description": "name of company or person"
                },
                "attentionOf": {
                  "type": "string",
                  "description": "name of recipient person"
                },
                "line1": {
                  "type": "string",
                  "description": "adress line #1"
                },
                "line2": {
                  "type": "string",
                  "description": "adress line #2, if any"
                },
                "countryCode": {
                  "type": "string",
                  "default": "CH",
                  "description": "country code (CH,LI,DE,FR,IT)"
                },
                "zipCode": {
                  "type": "string",
                  "description": "zipcode for city"
                },
                "city": {
                  "type": "string",
                  "description": "name of city"
                },
                "mailAdr": {
                  "type": "string",
                  "description": "mail address for contact"
                },
                "phoneNum": {
                  "type": "string",
                  "description": "phone number for contact"
                }
              }
            },
            "senderText": {
              "type": "string",
              "description": "sender address for document header"
            },
            "onBehalfTitle": {
              "type": "string",
              "description": "on behalf of title for document header"
            },
            "onBehalfText": {
              "type": "string",
              "description": "on behalf of text for document header"
            },
            "vatNumber": {
              "type": "string",
              "description": "VAT number of sender"
            },
            "contactTitle": {
              "type": "object",
              "additionalProperties": false,
              "description": "specific text for titles, if not standard",
              "properties": {
                "name": {
                  "type": "string"
                },
                "email": {
                  "type": "string"
                },
                "phone": {
                  "type": "string"
                },
                "fax": {
                  "type": "string"
                },
                "webpage": {
                  "type": "string"
                },
                "service": {
                  "type": "string"
                }
              }
            },
            "contact": {
              "type": "object",
              "additionalProperties": false,
              "properties": {
                "name": {
                  "type": "string",
                  "description": "name of person or department"
                },
                "email": {
                  "type": "string",
                  "format": "email",
                  "description": "mail address for contact"
                },
                "phone": {
                  "type": "string",
                  "description": "phone number to contact (ex. 041 444 22 11)"
                },
                "fax": {
                  "type": "string",
                  "description": "fax number to contact (ex. 041 444 22 12)"
                },
                "webpage": {
                  "type": "string",
                  "description": "website url"
                },
                "service": {
                  "type": "string",
                  "description": "service hours for customer service"
                }
              }
            },
            "senderBank": {
              "type": "string",
              "description": "Sender bank name"
            },
            "senderBIC": {
              "type": "string",
              "description": "Sender bank bic"
            },
            "senderIBAN": {
              "type": "string",
              "description": "Sender IBAN (ex. CH11 2222 3333 4444 5555)"
            }
          }
        },
        "recipient": {
          "type": "object",
          "additionalProperties": false,
          "description": "recient adresses for document",
          "required": [
            "debtorCRMID"
          ],
          "properties": {
            "debtorCRMID": {
              "type": "string",
              "pattern": "\\S{1,}",
              "description": "customer ID for collectable debtor, with 3-digit prefix to identify customer database (ex. GOB-xxxx)"
            },
            "debtorShowId": {
              "type": "string",
              "description": "customer ID to be indicated in documents, usually the ID used by the Business unit system (if different then debtorCRMID)"
            },
            "debtorCollectionID": {
              "type": "string",
              "description": "collectionID for customer (optional)"
            },
            "debtorSwissUID": {
              "type": "string",
              "description": "Swiss company code (UID), if any"
            },
            "debtorVatNumber": {
              "type": "string",
              "description": "VAT number of debtor (if available)"
            },
            "customGroup": {
              "type": "string",
              "enum": [
                "B2B",
                "B2C"
              ],
              "description": "customer grouping"
            },
            "debtorShowAlways": {
              "type": "boolean",
              "default": true,
              "description": "always show debtor & billing address, even if same"
            },
            "debtorTitle": {
              "type": "string",
              "description": "title for debtor, if non standard"
            },
            "debtorPostalAddress": {
              "type": "string",
              "enum": [
                "standard",
                "noAddress"
              ],
              "default": "standard",
              "nullable": true,
              "description": "debtor with full postal address (standard) or name only (noAddress)"
            },
            "debtorAddress": {
              "type": "object",
              "additionalProperties": false,
              "required": [
                "name"
              ],
              "properties": {
                "name": {
                  "type": "string",
                  "description": "name of company or person"
                },
                "attentionOf": {
                  "type": "string",
                  "description": "name of recipient person"
                },
                "line1": {
                  "type": "string",
                  "description": "adress line #1"
                },
                "line2": {
                  "type": "string",
                  "description": "adress line #2, if any"
                },
                "countryCode": {
                  "type": "string",
                  "default": "CH",
                  "description": "country code (CH,LI,DE,FR,IT)"
                },
                "zipCode": {
                  "type": "string",
                  "description": "zipcode for city"
                },
                "city": {
                  "type": "string",
                  "description": "name of city"
                },
                "mailAdr": {
                  "type": "string",
                  "description": "mail address for contact"
                },
                "phoneNum": {
                  "type": "string",
                  "description": "phone number for contact"
                }
              }
            },
            "billingAddress": {
              "type": "object",
              "additionalProperties": false,
              "required": [
                "name"
              ],
              "properties": {
                "name": {
                  "type": "string",
                  "description": "name of company or person"
                },
                "attentionOf": {
                  "type": "string",
                  "description": "name of recipient person"
                },
                "line1": {
                  "type": "string",
                  "description": "adress line #1"
                },
                "line2": {
                  "type": "string",
                  "description": "adress line #2, if any"
                },
                "countryCode": {
                  "type": "string",
                  "default": "CH",
                  "description": "country code (CH,LI,DE,FR,IT)"
                },
                "zipCode": {
                  "type": "string",
                  "description": "zipcode for city"
                },
                "city": {
                  "type": "string",
                  "description": "name of city"
                },
                "mailAdr": {
                  "type": "string",
                  "description": "mail address for contact"
                },
                "phoneNum": {
                  "type": "string",
                  "description": "phone number for contact"
                }
              }
            },
            "shippingAddress": {
              "type": "object",
              "additionalProperties": false,
              "required": [
                "name"
              ],
              "properties": {
                "name": {
                  "type": "string",
                  "description": "name of company or person"
                },
                "attentionOf": {
                  "type": "string",
                  "description": "name of recipient person"
                },
                "line1": {
                  "type": "string",
                  "description": "adress line #1"
                },
                "line2": {
                  "type": "string",
                  "description": "adress line #2, if any"
                },
                "countryCode": {
                  "type": "string",
                  "default": "CH",
                  "description": "country code (CH,LI,DE,FR,IT)"
                },
                "zipCode": {
                  "type": "string",
                  "description": "zipcode for city"
                },
                "city": {
                  "type": "string",
                  "description": "name of city"
                },
                "mailAdr": {
                  "type": "string",
                  "description": "mail address for contact"
                },
                "phoneNum": {
                  "type": "string",
                  "description": "phone number for contact"
                }
              }
            },
            "agencyNum": {
              "type": "string",
              "description": "ID of agency (for agency op list)"
            },
            "agencyName": {
              "type": "string",
              "description": "name of agency (for agency op list)"
            },
            "debtorInternalID": {
              "type": "string",
              "description": "adress ID for internal use, not printed"
            },
            "billingInternalID": {
              "type": "string",
              "description": "adress ID for internal use, not printed"
            },
            "shippingInternalID": {
              "type": "string",
              "description": "adress ID for internal use, not printed"
            }
          }
        }
      }
    },
    "layout": {
      "type": "object",
      "additionalProperties": false,
      "description": "layout information for document & envelope",
      "properties": {
        "templateName": {
          "type": "string",
          "default": "standard",
          "description": "name of base template"
        },
        "templateLogo": {
          "type": "string",
          "default": "standard",
          "description": "filename of logo on template"
        },
        "templateLogo2": {
          "type": "string",
          "default": "standard",
          "description": "2nd template logo"
        },
        "paymentSlip": {
          "type": "string",
          "enum": [
            "standard",
            "esr",
            "qrcode",
            "IBANonly",
            "IBANesr",
            "IBANqrcode"
          ],
          "default": "standard",
          "description": "selection for payment slip"
        },
        "envelopeLogo": {
          "type": "string",
          "default": "standard",
          "description": "filename of jpg for envelope"
        },
        "emailSubject": {
          "type": "string",
          "description": "subject for email (if non standard)"
        },
        "emailBody": {
          "type": "string",
          "description": "body html text for email (if non standard)"
        },
        "reminderList": {
          "type": "array",
          "description": "template information for reminders",
          "items": {
            "type": "object",
            "additionalProperties": false,
            "properties": {
              "reminderStep": {
                "type": "integer",
                "description": "reminder 1,2,3"
              },
              "emailSubject": {
                "type": "string",
                "description": "subject for reminder email (if non standard)"
              },
              "emailBody": {
                "type": "string",
                "description": "body html text for reminder email (if non standard)"
              }
            }
          }
        },
        "bodyDocType": {
          "type": "string",
          "enum": [
            "create",
            "sftp",
            "base64",
            "fromurl"
          ],
          "default": "create",
          "description": "document body creation/source type"
        },
        "bodyDocBase64": {
          "type": "string",
          "description": "document body base64 encoded, for doctype = base64 (pdf/a format, without payment slip page)"
        },
        "bodyDocFilename": {
          "type": "string",
          "description": "filename on sftp server, for doctype = sidepdf (pdf/a format, without payment slip page)"
        },
        "bodyDocURL": {
          "type": "string",
          "description": "url of document on TX DMS, for doctype = fromurl (pdf/a format, without payment slip page)"
        }
      }
    },
    "delivery": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "deliveryPlan": {
          "type": "string",
          "default": "standard",
          "description": "name of delivery plan"
        },
        "channel": {
          "type": "string",
          "enum": [
            "print",
            "email"
          ],
          "default": "print",
          "description": "standard delivery channel"
        },
        "postalDelivery": {
          "type": "object",
          "additionalProperties": false,
          "description": "additional information for postal delivery",
          "properties": {
            "postageType": {
              "type": "string",
              "enum": [
                "A",
                "B1",
                "B2"
              ],
              "default": "B2",
              "description": "postage type for postal delivery"
            },
            "postageGroup": {
              "type": "boolean",
              "default": true,
              "description": "group by doctype & customer (YES/no)"
            },
            "mergeCode": {
              "type": "string",
              "description": "group criteria for merging documents"
            },
            "mergeOrder": {
              "type": "integer",
              "nullable": true,
              "description": "sort order of document in the envelope (1,2,3)"
            }
          }
        },
        "emailDelivery": {
          "type": "object",
          "additionalProperties": false,
          "description": "additional information for email delivery",
          "properties": {
            "fromMail": {
              "type": "string",
              "format": "email",
              "description": "mail address of sender (Billing Engine Config, if not indicated)"
            },
            "fromName": {
              "type": "string",
              "description": "visualized name of sender (Billing Engine Config, if not indicated)"
            },
            "toMail": {
              "type": "string",
              "format": "email",
              "description": "mail address of recipient"
            },
            "ccList": {
              "type": "array",
              "items": {
                "type": "string",
                "format": "email"
              },
              "description": "optional list of CC mail receivers"
            },
            "bccList": {
              "type": "array",
              "items": {
                "type": "string",
                "format": "email"
              },
              "description": "optional list of bcc mail receivers"
            },
            "replyMail": {
              "type": "string",
              "format": "email",
              "description": "optional, default = fromMail and then contact.eMail"
            }
          }
        }
      }
    },
    "workflow": {
      "type": "object",
      "additionalProperties": false,
      "description": "Workflow configuration for document",
      "properties": {
        "workflowName": {
          "type": "string",
          "default": "standard",
          "description": "name of workflow plan"
        },
        "termToPay": {
          "type": "integer",
          "description": "payment terms for invoice (optional, overrules workflow specification)"
        },
        "collectionStop": {
          "type": "boolean",
          "default": false,
          "description": "stop process before collection (optional, overrules workflow specification)"
        }
      }
    },
    "attachments": {
      "type": "array",
      "description": "list of attachments to document",
      "items": {
        "type": "object",
        "additionalProperties": false,
        "required": [
          "attachmentName",
          "fileSource"
        ],
        "properties": {
          "attachmentName": {
            "type": "string",
            "description": "attachment title (ex. Report, AGB)"
          },
          "fileSource": {
            "type": "string",
            "enum": [
              "sftp",
              "base64",
              "stored",
              "fromurl"
            ],
            "description": "source of attachment"
          },
          "fileType": {
            "type": "string",
            "enum": [
              "pdf",
              "jpeg",
              "xls",
              "xlsx",
              "csv",
              "txt"
            ],
            "default": "pdf",
            "description": "file type of attachment"
          },
          "fileBase64": {
            "type": "string",
            "description": "attachment base64 encoded"
          },
          "fileName": {
            "type": "string",
            "description": "name of attachment in OMS"
          },
          "fileURL": {
            "type": "string",
            "description": "url of attachment"
          },
          "archive": {
            "type": "boolean",
            "default": true,
            "description": "add attachment to archive file (YES/no)"
          },
          "deliverWithPrint": {
            "type": "boolean",
            "default": true,
            "description": "send attachment in postal mail (YES/no)"
          }
        }
      }
    },
    "payload": {
      "type": "object",
      "additionalProperties": false,
      "description": "content information of document",
      "properties": {
        "docTitle": {
          "type": "string",
          "description": "title of document ex. Rechnung, Gutschrift (if non standard)"
        },
        "docHeaderTitle": {
          "type": "object",
          "additionalProperties": false,
          "description": "specific text for document title section, if non-standard",
          "properties": {
            "docNumber": {
              "type": "string"
            },
            "docDate": {
              "type": "string"
            },
            "customer": {
              "type": "string"
            },
            "agency": {
              "type": "string"
            },
            "order": {
              "type": "string"
            },
            "barter": {
              "type": "string"
            },
            "reference": {
              "type": "string"
            },
            "period": {
              "type": "string"
            }
          }
        },
        "docHeader": {
          "type": "object",
          "additionalProperties": false,
          "properties": {
            "docNumber": {
              "type": "string",
              "description": "number of document to be displayed (default = general.docNumber)"
            },
            "docDate": {
              "type": "string",
              "format": "date",
              "description": "issue date of document to be displayed (default = general.docDate)"
            },
            "customerNum": {
              "type": "string",
              "description": "customer number, if applicable"
            },
            "customerName": {
              "type": "string",
              "description": "customer name, if applicable"
            },
            "agencyNum": {
              "type": "string",
              "description": "agency number, if applicable"
            },
            "agencyName": {
              "type": "string",
              "description": "agency name, if applicable"
            },
            "orderNum": {
              "type": "string",
              "description": "text for order number, if applicable"
            },
            "orderName": {
              "type": "string",
              "description": "text for order name, if applicable"
            },
            "barterNum": {
              "type": "string",
              "description": "barter contract number, if applicable"
            },
            "barterName": {
              "type": "string",
              "description": "barter contract counterparty name, if applicable"
            },
            "reference": {
              "type": "string",
              "description": "multi-line text for customer reference, if any"
            },
            "period": {
              "type": "string",
              "description": "text for invocing period, if applicable"
            }
          }
        },
        "docHeaderText": {
          "type": "string",
          "description": "header text for document, if non-standard text"
        },
        "docBody": {
          "type": "array",
          "items": {
            "type": "object",
            "additionalProperties": false,
            "properties": {
              "blockTitle": {
                "type": "string",
                "description": "title for block, if available"
              },
              "orderTitle": {
                "type": "string",
                "description": "title for order block, if non-standard"
              },
              "orderText": {
                "type": "string",
                "description": "multi-line text for order block"
              },
              "periodTitle": {
                "type": "string",
                "description": "title for period, if non-standard"
              },
              "periodText": {
                "type": "string",
                "description": "text for period, if applicable"
              },
              "refTitle": {
                "type": "string",
                "description": "title for customer reference, if non-standard"
              },
              "refText": {
                "type": "string",
                "description": "multi-line text for customer reference"
              },
              "infoItems": {
                "type": "array",
                "items": {
                  "type": "object",
                  "additionalProperties": false,
                  "properties": {
                    "infoTitle": {
                      "type": "string",
                      "description": "title text for InfoItem"
                    },
                    "infoText": {
                      "type": "string",
                      "description": "multi line text for InfoItem"
                    }
                  }
                }
              },
              "itemsTitles": {
                "type": "object",
                "additionalProperties": false,
                "properties": {
                  "titlePos": {
                    "type": "string",
                    "description": "title for num column (if non-standard)"
                  },
                  "titleCode": {
                    "type": "string",
                    "description": "title for code column (not displayed)"
                  },
                  "titleText": {
                    "type": "string",
                    "description": "title for text column (if non-standard)"
                  },
                  "titleGross": {
                    "type": "string",
                    "description": "title for gross column (if non-standard)"
                  },
                  "titleQuantity": {
                    "type": "string",
                    "description": "title for quantity column (if non-standard)"
                  },
                  "titleUnit": {
                    "type": "string",
                    "description": "title for unit column (not displayed)"
                  },
                  "titlePrice": {
                    "type": "string",
                    "description": "title for price column (if non-standard)"
                  },
                  "titleDiscount": {
                    "type": "string",
                    "description": "title for discount column (if non-standard)"
                  },
                  "titleAmount": {
                    "type": "string",
                    "description": "title for total column (if non-standard)"
                  },
                  "titleVAT": {
                    "type": "string",
                    "description": "title for vat column (if non-standard)"
                  },
                  "formatQuantity": {
                    "type": "string",
                    "enum": [
                      "numeric",
                      "amount"
                    ],
                    "default": "numeric",
                    "description": "format option for quantity values"
                  }
                }
              },
              "groups": {
                "type": "array",
                "items": {
                  "type": "object",
                  "additionalProperties": false,
                  "properties": {
                    "groupTitle": {
                      "type": "string",
                      "description": "title description for group of line items"
                    },
                    "lineItems": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "additionalProperties": false,
                        "required": [
                          "posTitle",
                          "amountValue",
                          "vatCode",
                          "revenueItems"
                        ],
                        "properties": {
                          "posNum": {
                            "type": "string",
                            "description": "number of line item (ex: 1,02,3b)"
                          },
                          "posTitle": {
                            "type": "string",
                            "description": "title of product/service"
                          },
                          "posText": {
                            "type": "string",
                            "description": "additional description lines for line item"
                          },
                          "grossText": {
                            "type": "string",
                            "description": "text representation of gross value (overrides decimal representation if non blank)"
                          },
                          "grossValue": {
                            "type": "number",
                            "format": "decimal",
                            "description": "gross decimal value"
                          },
                          "quantityText": {
                            "type": "string",
                            "description": "text representation of quantity (overrides decimal representation if non blank)"
                          },
                          "quantityValue": {
                            "type": "number",
                            "format": "decimal",
                            "description": "quantity decimal value"
                          },
                          "priceText": {
                            "type": "string",
                            "description": "text representation of price (overrides decimal representation if non blank)"
                          },
                          "priceValue": {
                            "type": "number",
                            "format": "decimal",
                            "description": "price per unit for line item"
                          },
                          "discountText": {
                            "type": "string",
                            "description": "discount text for unit"
                          },
                          "discountValue": {
                            "type": "number",
                            "format": "decimal",
                            "description": "discount value for unit"
                          },
                          "amountValue": {
                            "type": "number",
                            "format": "decimal",
                            "description": "price for line item after discount"
                          },
                          "vatCode": {
                            "type": "string",
                            "pattern": "\\S{1,}",
                            "description": "VAT code for item applied for vat calculation"
                          },
                          "baseVatCode": {
                            "type": "string",
                            "pattern": "\\S{1,}",
                            "description": "base vat code for service/product"
                          },
                          "posBold": {
                            "type": "string",
                            "enum": [
                              "noBold",
                              "titleTotal",
                              "topLine",
                              "allLines"
                            ],
                            "default": "noBold",
                            "description": "specification for display in bold"
                          },
                          "subLines": {
                            "description": "additional sublines to invoice line item",
                            "type": "array",
                            "items": {
                              "type": "object",
                              "additionalProperties": false,
                              "properties": {
                                "subTitle": {
                                  "type": "string"
                                },
                                "grossText": {
                                  "type": "string"
                                },
                                "grossValue": {
                                  "type": "number",
                                  "format": "decimal"
                                },
                                "quantityText": {
                                  "type": "string"
                                },
                                "quantityValue": {
                                  "type": "number",
                                  "format": "decimal"
                                },
                                "priceText": {
                                  "type": "string"
                                },
                                "priceValue": {
                                  "type": "number",
                                  "format": "decimal"
                                },
                                "discountText": {
                                  "type": "string"
                                },
                                "discountValue": {
                                  "type": "number",
                                  "format": "decimal"
                                },
                                "amountValue": {
                                  "type": "number",
                                  "format": "decimal"
                                }
                              }
                            }
                          },
                          "revenueItems": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "additionalProperties": false,
                              "required": [
                                "revenueCode"
                              ],
                              "properties": {
                                "revenueCode": {
                                  "type": "string",
                                  "pattern": "\\S{1,}",
                                  "description": "workday sales/purchase item, mandatory (ex. SAI1234)"
                                },
                                "revenueAmount": {
                                  "type": "number",
                                  "format": "decimal",
                                  "nullable": true,
                                  "description": "revenue amount (optional, default = amountValue)"
                                },
                                "revenueType": {
                                  "type": "string",
                                  "enum": [
                                    "RT01",
                                    "RT02",
                                    "RT11",
                                    "RT12",
                                    "RT13",
                                    "RT14",
                                    "RT21",
                                    "RT22",
                                    "RT29"
                                  ],
                                  "default": "RT01",
                                  "description": "type of revenue: RT01 Sales, RT02 Sales AddOns, RT11 Discounts, RT12 Agency Commission (BK+VK), RT13 Kickback+Direct Booking (DBE+VMK), , RT14 Revenue Forwarded, RT21 Remission, RT22 Fees, RT29 Other reduction"
                                },
                                "periodFrom": {
                                  "type": "string",
                                  "format": "date",
                                  "description": "revenue period starting date (optional, bookingDate if not indicated)"
                                },
                                "periodTo": {
                                  "type": "string",
                                  "format": "date",
                                  "description": "revenue period end date (optional, bookingDate if not indicated)"
                                },
                                "deferralMode": {
                                  "type": "string",
                                  "enum": [
                                    "standard",
                                    "day",
                                    "month",
                                    "none"
                                  ],
                                  "default": "standard",
                                  "description": "deferral calculation mode (if applicable)"
                                },
                                "revenueMode": {
                                  "type": "string",
                                  "enum": [
                                    "standard",
                                    "payout"
                                  ],
                                  "default": "standard",
                                  "description": "processing mode for revenue item (for docPayoutMode)"
                                },
                                "barterContractID": {
                                  "type": "string",
                                  "description": "barter revenue (if applicable)"
                                },
                                "icAffiliate": {
                                  "type": "string",
                                  "description": "Intercompany Affiliate (for internal use only)"
                                },
                                "acAffiliate": {
                                  "type": "string",
                                  "description": "Activity affiliate (for internal use only)"
                                },
                                "activity": {
                                  "type": "string",
                                  "description": "workday activity (for internal use only)"
                                },
                                "vatAmount": {
                                  "type": "number",
                                  "format": "decimal",
                                  "description": "vat amount for revenue line item (calculated by Billing Engine)"
                                },
                                "assetCompany": {
                                  "type": "string",
                                  "description": "company code for asset line (assigned by Billing Engine) "
                                },
                                "assetActivity": {
                                  "type": "string",
                                  "description": "activity code for asset line  (assigned by Billing Engine)"
                                },
                                "assetInterMode": {
                                  "type": "string",
                                  "enum": [
                                    "none",
                                    "integrated",
                                    "NIC",
                                    "assoINT",
                                    "assoEXT",
                                    "intra"
                                  ],
                                  "default": "none",
                                  "description": "asset company IC mode (assigned by Billing Engine)"
                                },
                                "assetInhouseBanking": {
                                  "type": "boolean",
                                  "default": false,
                                  "description": "TX inhouse banking transaction (assigned by Billing Engine)"
                                },
                                "assetVatGroup": {
                                  "type": "boolean",
                                  "default": false,
                                  "description": "both parties in TX VAT group (assigned by Billing Engine)"
                                },
                                "autoComplete": {
                                  "type": "string",
                                  "description": "auto complete information (assigned by Billing Engine)"
                                }
                              }
                            }
                          }
                        }
                      }
                    },
                    "groupTotal": {
                      "type": "object",
                      "additionalProperties": false,
                      "required": [
                        "totalAmount"
                      ],
                      "properties": {
                        "totalText": {
                          "type": "string",
                          "description": "text for group total line (if non standard)"
                        },
                        "totalAmount": {
                          "type": "number",
                          "format": "decimal",
                          "description": "group total amount"
                        }
                      }
                    }
                  }
                }
              },
              "blockTotal": {
                "type": "object",
                "additionalProperties": false,
                "properties": {
                  "totalText": {
                    "type": "string",
                    "description": "text for block total line (if non standard)"
                  },
                  "totalAmount": {
                    "type": "number",
                    "format": "decimal",
                    "description": "block total amount"
                  }
                }
              }
            }
          }
        },
        "docTotal": {
          "type": "object",
          "additionalProperties": false,
          "required": [
            "amountValue",
            "totalValue"
          ],
          "properties": {
            "amountText": {
              "type": "string",
              "description": "text for amount line (if non-standard)"
            },
            "amountValue": {
              "type": "number",
              "format": "decimal",
              "description": "total amount of all item lines"
            },
            "vatItems": {
              "type": "array",
              "description": "list of vat lines",
              "items": {
                "type": "object",
                "additionalProperties": false,
                "required": [
                  "vatCode",
                  "vatRate"
                ],
                "properties": {
                  "vatCode": {
                    "type": "string",
                    "pattern": "\\S{1,}",
                    "description": "vat code (ex. 1,2,3)"
                  },
                  "vatRate": {
                    "type": "number",
                    "format": "float",
                    "description": "vat rate (ex. 7.7 / 2.5 / 0.0)"
                  },
                  "periodFrom": {
                    "type": "string",
                    "format": "date",
                    "description": "vat period start date (optional in case of vat rate change)"
                  },
                  "periodTo": {
                    "type": "string",
                    "format": "date",
                    "description": "vat period end date (optional in case of vat rate change)"
                  },
                  "netAmount": {
                    "type": "number",
                    "format": "decimal",
                    "description": "total amount excluding vat"
                  },
                  "vatAmount": {
                    "type": "number",
                    "format": "decimal",
                    "description": "calculated vat amount"
                  }
                }
              }
            },
            "rounding": {
              "type": "number",
              "format": "decimal",
              "description": "for 0.05 rounding amount, if applicable"
            },
            "totalText": {
              "type": "string",
              "description": "Text for document total line, if non-standard"
            },
            "totalValue": {
              "type": "number",
              "format": "decimal",
              "description": "Total amount for document"
            },
            "termSkontoPercentage": {
              "type": "number",
              "format": "decimal",
              "description": "percentage for skonto discount (for future use)"
            },
            "termSkontoDays": {
              "type": "number",
              "format": "decimal",
              "description": "days offered for skonto discount (for future use)"
            },
            "showVatBlock": {
              "type": "boolean",
              "default": true,
              "description": "display vat block on template"
            }
          }
        },
        "docFooter": {
          "type": "object",
          "additionalProperties": false,
          "properties": {
            "footerText": {
              "type": "string",
              "description": "specific text for footer (if non standard)"
            },
            "reminderText1": {
              "type": "string",
              "description": "additional footer text for 1st reminder"
            },
            "reminderText2": {
              "type": "string",
              "description": "additional footer text for 2nd reminder"
            },
            "reminderText3": {
              "type": "string",
              "description": "additional footer text for 3rd reminder"
            }
          }
        },
        "paymentSlip": {
          "type": "object",
          "additionalProperties": false,
          "properties": {
            "slipText": {
              "type": "string",
              "description": "specific text for payment slip (if non standard)"
            },
            "slipSender": {
              "type": "string",
              "description": "specific text for sender address on payment slip (if non standard)"
            },
            "slipPayText": {
              "type": "string",
              "nullable": true,
              "description": "specific grayed text above payment slip (if non standard)"
            },
            "slipDebtor": {
              "type": "boolean",
              "default": false,
              "description": "show always debtor adress on payment slip (true = yes, false = no)"
            },
            "customReferenceNumber": {
              "type": "string",
              "description": "27 char custom reference number with check digit (replaces Billing Engine standard reference number)"
            },
            "onlinePayActive": {
              "type": "boolean",
              "default": true,
              "description": "activate online payment with QR (onlinePayActice & Company config need to true)"
            },
            "onlinePayText": {
              "type": "string",
              "description": "text to be indicated (overrules the default text)"
            },
            "onlinePaySuccessUrl": {
              "type": "string",
              "description": "indicates the landing page at checkout success"
            },
            "onlinePayCancelUrl": {
              "type": "string",
              "description": "indicates the landing page at checkout cancellation"
            },
            "onlinePayErrorUrl": {
              "type": "string",
              "description": "indicates the landing page at checkout error"
            }
          }
        }
      }
    }
  }
}